<?php
 use Server\rider\RiderType; use Server\order\OrderList; use Model\Config; use Server\app\Token; goto cUppC; DnWQO: $rider_business = pdo_fetchall($sql); goto h0kDo; A1G6M: $riderType->isFreightDriver() ? array_push($whereType, 5) : ''; goto vP6_f; IL6ZG: iD8xy: goto p_PlT; tB3ok: $orderListServer = new OrderList(); goto edw8p; fvtKm: Qbxwv: goto rvZQ0; Bm7R1: $results = array_unique($results, SORT_REGULAR); goto VGDEF; fcs80: if (!empty($results)) { goto Pvtxm; } goto TPl22; Xh2Hz: if (empty($rider_business)) { goto DfB6e; } goto pue6s; dUJS4: $limit = !empty($_GPC["\x6c\151\155\151\x74"]) ? (int) $_GPC["\154\x69\x6d\x69\164"] : 10; goto b77yY; B4A37: $to = rtrim($to, "\x3b"); goto jobhu; jobhu: $from = $rider["\x6c\141\164"] . "\54" . $rider["\154\x6e\147"]; goto JKY4R; igjzz: ATndw: goto fcs80; hZWnY: goto ATndw; goto xJmf9; vP6_f: $riderType->isTechnician() ? array_push($whereType, 6) : ''; goto tGeE4; sv4Nl: $query = load()->object("\161\165\145\162\x79"); goto kvjTX; gJ6RF: GheAv: goto B4A37; p_PlT: $results = $query->from("\155\141\x6b\145\137\163\160\145\145\x64\x5f\157\x72\144\x65\x72\137\x72\x69\144\x65\x72", "\x72")->innerjoin("\x6d\x61\x6b\x65\x5f\163\160\x65\145\144\137\x6f\x72\x64\145\162", "\157")->innerjoin("\155\x61\153\x65\137\x73\160\145\x65\x64\137\x6f\x72\x64\x65\162\137\x61\144\144\162\145\x73\x73", "\141")->on(array("\157\56\151\144" => "\x72\56\x6f\162\144\145\x72\x5f\151\144", "\x61\56\157\x72\x64\x65\162\137\x69\x64" => "\162\x2e\157\x72\x64\x65\162\137\151\x64"))->where($where)->page($page, $limit)->select($field)->orderby("\151\144\40\x64\145\163\x63")->getall(); goto hZWnY; JKY4R: $distance = get_point_distance($from, $to); goto n0t3Q; f4KBE: $field = array_merge($field, ["\x70\151\x63\x6b\137\151\155\x67", "\145\x6e\x64\137\151\x6d\147", "\157\x2e\143\x68\141\x72\147\x5f\164\x79\160\x65", "\x72\56\x72\x69\144\x65\x72\137\151\144", "\x72\x2e\x61\143\143\145\x70\x74\x5f\x74\151\x6d\145", "\162\x2e\147\x65\x74\137\x74\x69\155\x65", "\162\56\147\157\164\157\x5f\x74\151\x6d\x65"]); goto IxRaH; VGDEF: @array_multisort(array_column($results, "\157\x72\x64\x65\162\x5f\151\144"), SORT_DESC, $results); goto igjzz; xJmf9: ncuHL: goto TK4sl; ixLjd: $riderType = new RiderType($rider_id); goto auwah; C_A8j: foreach ($results as $k => $v) { goto PimFq; EgOAa: $results[$k]["\x65\x6e\144\137\151\x6d\x67"] = str_replace("\x2f\x75\160\154\157\x61\x64\x73\57", $_W["\163\151\164\x65\x72\157\157\x74"] . "\141\x64\144\x6f\x6e\163\x2f\x6d\141\153\x65\137\163\x70\x65\x65\x64\x2f\x63\x6f\x72\x65\x2f\x70\x75\142\x6c\x69\143\57\165\160\154\x6f\x61\144\x73\x2f", $v["\145\x6e\x64\x5f\x69\155\147"]); goto lzNkm; MsJrC: U475I: goto BTX4r; qeTtH: !empty($v["\x67\x6f\164\x6f\137\x74\151\x6d\x65"]) || ($v["\x67\x6f\164\x6f\137\x74\x69\155\x65"] = time()); goto VkJbF; zJ4yA: goto U475I; goto oAHcf; UOxfS: if ($v["\x70\141\171\x6d\x65\x6e\164"] != 3 && $v["\157\162\144\145\x72\137\164\171\x70\x65"] != 6) { goto bzNO5; } goto yXOx3; yPhZ4: $results[$k]["\x67\x65\x74\137\164\151\x6d\145"] = !empty($v["\147\x65\164\137\x74\151\155\145"]) ? date("\x6d\55\x64\40\110\x3a\x69", $v["\x67\145\164\137\x74\151\x6d\145"]) : 0; goto lXm9F; lXm9F: $results[$k]["\147\x6f\x74\157\x5f\x74\151\x6d\145"] = !empty($v["\x67\157\x74\x6f\137\164\151\x6d\145"]) ? date("\155\55\144\x20\110\x3a\151", $v["\147\157\164\157\x5f\164\151\x6d\x65"]) : 0; goto dmuks; lzNkm: $results[$k]["\x65\x6e\x64\137\151\x6d\x67"] = explode("\x2c", $results[$k]["\145\156\144\137\151\155\147"]); goto S2M5G; LzupT: $results[$k]["\x69\144"] = !empty($v["\x6f\162\x64\x65\162\x5f\x69\144"]) ? $v["\157\x72\x64\145\162\137\x69\144"] : $v["\x69\144"]; goto UOxfS; oAHcf: oVwtw: goto Xugd6; qxdlm: $cate = pdo_get("\x6d\x61\x6b\x65\x5f\x73\x70\x65\x65\144\137\x68\157\x6d\x65\x6d\141\x6b\x69\156\x67\x5f\143\x61\164\145\x67\157\162\171", ["\151\144" => $v["\143\141\164\145\147\157\162\x79\137\151\144"]], ["\143\157\x6d\155\151\x73\x73\x69\157\x6e\137\x68\x6f\165\x73\x65"]); goto XA8NP; o93zb: goto BegAV; goto zdGif; eCeER: $results[$k]["\x61\165\x64\151\x6f"] = !empty($v["\x61\165\x64\151\x6f"]) ? toimgurl($v["\141\165\144\151\x6f"]) : ''; goto WVX1L; XA8NP: if (!empty($cate["\x63\x6f\155\155\x69\x73\163\x69\157\156\137\150\x6f\165\163\x65"])) { goto oVwtw; } goto nkBjk; wtStA: if (empty($v["\x69\x6d\147\163"])) { goto poSAP; } goto zvwmn; OXLHD: $results[$k]["\160\x69\x63\x6b\x5f\x69\155\147"] = explode("\x2c", $results[$k]["\x70\151\x63\153\x5f\x69\x6d\147"]); goto YbW40; nkBjk: $results[$k]["\x74\157\x74\141\154\137\160\x72\151\x63\145"] = empty($v["\x74\157\164\x61\x6c\137\x70\x72\151\143\145"]) ? 0.0 : sprintf("\45\x2e\x32\x66", $v["\x74\x6f\164\141\x6c\x5f\x70\162\x69\x63\x65"] * $moneyss); goto zJ4yA; S2M5G: cVCqh: goto wtStA; WVX1L: $results[$k]["\x61\x64\144\137\x74\x69\x6d\x65"] = !empty($v["\x61\x64\144\x5f\x74\x69\x6d\x65"]) ? date("\x6d\x2d\144\x20\110\72\151", $v["\x61\144\144\x5f\164\151\155\145"]) : 0; goto FG0qO; BTX4r: BegAV: goto ceie5; AZnhn: if (empty($results[$k]["\x65\x6e\144\137\151\155\x67"])) { goto cVCqh; } goto EgOAa; tbRil: $to .= $v["\x62\145\x67\151\156\137\154\141\x74"] . "\54" . $v["\142\x65\147\x69\x6e\x5f\154\156\147"] . "\x3b"; goto xFDQJ; dmuks: !empty($v["\147\x65\x74\137\164\151\x6d\x65"]) || ($v["\147\145\164\x5f\164\x69\155\145"] = time()); goto qeTtH; zdGif: PQ58d: goto qxdlm; FG0qO: if (empty($results[$k]["\160\x69\143\x6b\x5f\151\155\147"])) { goto HGJLO; } goto OIadv; WOiN2: $results[$k]["\151\155\x67\x73"] = explode("\x2c", $v["\x69\155\x67\x73"]); goto kBDA3; VkJbF: $results[$k]["\x5f\x67\145\x74\137\164\151\155\x65"] = !empty($v["\141\143\143\145\x70\164\x5f\164\151\x6d\145"]) ? ceil(($v["\x67\145\x74\137\164\151\x6d\145"] - $v["\x61\x63\143\145\160\x74\137\x74\x69\x6d\145"]) / 60) : 0; goto XaIX3; Xugd6: $results[$k]["\x74\x6f\x74\141\x6c\137\x70\x72\151\x63\x65"] = empty($v["\164\x6f\164\x61\x6c\x5f\x70\162\x69\x63\x65"]) ? 0.0 : sprintf("\45\56\x32\146", $v["\x74\x6f\x74\x61\x6c\x5f\160\x72\151\x63\x65"] * $cate["\x63\157\x6d\x6d\151\163\x73\x69\x6f\x6e\x5f\150\x6f\x75\163\145"] / 100); goto MsJrC; PimFq: $results[$k]["\141\x63\x63\x65\x70\164\x5f\164\151\155\145"] = !empty($v["\141\143\x63\145\x70\x74\x5f\164\x69\155\145"]) ? date("\x6d\x2d\144\x20\110\x3a\151", $v["\x61\143\143\145\160\x74\137\164\151\x6d\x65"]) : 0; goto yPhZ4; yXOx3: if ($v["\x6f\x72\x64\x65\162\137\164\x79\160\x65"] == 6 && $v["\143\141\164\x65\x67\x6f\x72\171\137\151\x64"]) { goto PQ58d; } goto dHzLi; XaIX3: $results[$k]["\x5f\147\x6f\164\157\x5f\x74\x69\155\x65"] = ceil(($v["\147\x6f\164\x6f\137\x74\151\x6d\145"] - $v["\x67\145\x74\137\x74\x69\x6d\x65"]) / 60); goto eCeER; IPth3: !empty($v["\162\x65\x6d\141\162\153"]) || ($results[$k]["\x72\x65\x6d\141\162\x6b"] = "\xe6\227\xa0"); goto LzupT; OIadv: $results[$k]["\x70\x69\143\x6b\137\x69\155\147"] = str_replace("\57\165\160\x6c\157\141\x64\x73\x2f", $_W["\163\151\164\x65\x72\x6f\x6f\164"] . "\141\x64\x64\x6f\156\x73\57\x6d\x61\x6b\x65\x5f\163\x70\x65\145\144\57\143\157\x72\145\x2f\160\165\x62\154\x69\x63\x2f\165\x70\x6c\x6f\x61\144\x73\57", $v["\x70\x69\x63\x6b\x5f\151\x6d\x67"]); goto OXLHD; OsCn9: if (!(!empty($v["\x62\145\147\151\x6e\137\x6c\x61\x74"]) || !empty($v["\142\145\x67\151\156\x5f\154\x6e\147"]))) { goto LZeTG; } goto tbRil; ceie5: iXjXA: goto T9Tok; i1Bz3: bzNO5: goto oUfvA; xFDQJ: LZeTG: goto IPth3; dHzLi: goto BegAV; goto i1Bz3; oUfvA: $results[$k]["\x74\157\164\141\154\137\x70\x72\x69\143\x65"] = empty($v["\164\x6f\164\x61\154\137\x70\x72\151\143\145"]) ? 0.0 : sprintf("\x25\56\62\146", $v["\x74\x6f\164\x61\x6c\x5f\x70\x72\151\143\145"] * $moneyss); goto o93zb; zvwmn: $v["\x69\x6d\147\x73"] = str_replace("\57\x75\x70\154\x6f\141\x64\x73\x2f", $_W["\x73\151\164\x65\162\x6f\157\x74"] . "\x61\x64\144\x6f\x6e\163\x2f\155\x61\x6b\x65\137\x73\x70\x65\145\144\57\143\157\x72\145\x2f\x70\x75\142\154\x69\143\x2f\165\160\154\x6f\141\144\163\x2f", $v["\x69\155\x67\163"]); goto WOiN2; kBDA3: poSAP: goto OsCn9; YbW40: HGJLO: goto AZnhn; T9Tok: } goto gJ6RF; psc3E: $whereType = [0, 1, 2]; goto ixLjd; Fth10: $field = ["\157\x2e\x63\141\x74\145\x67\x6f\162\x79\137\x69\144", "\x6f\x2e\x63\x61\162\137\164\x79\x70\x65", "\x6f\x2e\x6c\157\x61\x64\137\x73\167\151\x74\143\x68", "\x6f\56\x6f\x72\144\x65\x72\x5f\143\157\144\145", "\x6f\x2e\x73\x6d\x61\154\154\137\x70\x72\x69\143\x65", "\157\x2e\151\163\x5f\144\151\163\143\165\x73\163", "\x6f\56\146\x6c\157\x6f\162\137\160\x72\151\x63\x65", "\x6f\x2e\143\150\141\x6e\x67\145\137\160\x72\x69\x63\x65", "\157\x2e\x69\155\147\40\x61\163\x20\151\155\x67\x73", "\157\56\x62\165\x64\x67\145\x74\x5f\x70\x72\x69\x63\x65", "\157\x2e\x61\165\144\x69\157", "\x6f\x2e\x67\x65\164\x5f\x74\x69\x6d\145\x20\x61\x73\40\137\137\x67\x65\164\x5f\x74\151\x6d\145", "\157\x2e\164\x79\x70\145\40\x61\163\40\157\162\144\145\162\x5f\164\x79\160\x65", "\157\56\x73\x74\141\x74\165\163", "\x6f\56\x67\157\157\x64\x73\156\141\x6d\x65", "\157\x2e\x64\151\x73\164\141\156\x63\x65", "\x6f\x2e\144\145\163\143\162\x69\x70\164\x69\x6f\x6e\x20\141\x73\x20\162\x65\155\x61\x72\153", "\157\x2e\167\145\151\147\x68\164", "\x6f\x2e\160\141\171\155\x65\x6e\164", "\x6f\56\141\144\144\x5f\164\x69\155\145", "\157\x2e\164\x6f\x74\x61\154\x5f\160\162\151\143\x65", "\x6f\56\x63\165\142\x65", "\157\x2e\143\x75\142\x65\137\x70\162\151\143\145", "\x6f\x2e\x63\141\162\137\x6e\x61\155\145", "\141\56\x2a"]; goto sv4Nl; Dp8HN: $results2 = array(); goto TlMyO; TlMyO: if (!(pdo_tableexists("\155\x61\x6b\145\137\x73\160\x65\x65\144\x5f\142\165\x73\151\156\x65\x73\x73") && pdo_tableexists("\155\141\153\x65\137\x73\160\145\x65\x64\137\142\165\x73\151\156\x65\x73\x73\x5f\x69\x6e\x66\x6f"))) { goto mMIfe; } goto WDfRR; zcRTc: mMIfe: goto Ntr_q; mtujy: $moneysetting = pdo_get("\155\141\x6b\145\137\x73\160\x65\145\144\x5f\x73\145\x74\x74\151\156\147", array("\x6b\x65\171" => "\162\x69\144\145\162\137\167\141\147\145\x73", "\x75\x6e\151\141\x63\x69\x64" => $GLOBALS["\x75\156\151\141\x63\x69\144"]), array("\166\141\154\x75\145")); goto vzlPh; b77yY: $time = !empty($_GPC["\x74\x69\x6d\145"]) ? strtotime($_GPC["\164\151\x6d\x65"]) : 0; goto tB3ok; tGeE4: $where["\157\x2e\164\171\160\x65"] = $whereType; goto zm5pe; pue6s: $results2 = $query->from("\155\141\x6b\x65\x5f\163\160\145\145\144\x5f\157\162\x64\145\162", "\x6f")->leftjoin("\x6d\141\153\x65\x5f\163\x70\145\145\144\x5f\157\x72\144\x65\x72\x5f\x61\x64\x64\x72\145\163\x73", "\141")->on(["\x6f\x2e\x69\x64" => "\141\x2e\x6f\162\144\x65\162\137\151\144"])->where($where)->where(["\x6f\x2e\x62\165\x73\x69\156\x65\163\163\x5f\151\144" => $rider_business])->page($page, $limit)->select($field)->orderby("\151\x64\40\x64\x65\x73\x63")->getall(); goto Mbv4u; auwah: $riderType->isDriver() ? array_push($whereType, 3) : ''; goto A1G6M; Ntr_q: $results = $query->from("\155\141\x6b\145\x5f\x73\x70\x65\145\144\x5f\157\162\x64\145\162", "\x6f")->leftjoin("\155\141\x6b\x65\x5f\x73\160\145\145\x64\137\157\162\x64\x65\162\137\141\x64\x64\x72\145\163\163", "\x61")->on(array("\x6f\x2e\151\x64" => "\x61\x2e\157\162\x64\145\162\137\x69\144"))->where($where)->where(["\x6f\56\142\x75\163\x69\x6e\145\x73\x73\137\151\x64" => 0])->page($page, $limit)->select($field)->orderby("\x69\144\x20\144\x65\x73\143")->getall(); goto aCdf3; zLYfd: $results = !empty($results2) ? array_merge($results2, $results) : $results; goto Bm7R1; RD8Dl: $results1 = array(); goto Dp8HN; IxRaH: $where["\162\56\x72\151\144\145\162\137\x69\x64"] = $rider_id; goto ryMAN; IhT7D: $rider = pdo_get("\155\x61\x6b\145\x5f\x73\160\x65\x65\144\137\x72\x69\144\145\x72\x5f\x69\x6e\146\157", array("\162\151\x64\x65\x72\137\151\x64" => $rider_id), array("\x6c\x61\x74", "\154\156\x67")); goto JPMrm; SiUvK: $where["\x72\x2e\x61\x63\x63\x65\x70\164\x5f\x74\151\155\145\40\x3e\75"] = $time; goto Hf9ih; WoiNz: $page = !empty($_GPC["\160\141\x67\145"]) ? (int) $_GPC["\x70\141\147\x65"] : 1; goto dUJS4; TK4sl: $distance = Config::get("\x72\x69\x64\x65\162\137\144\x69\163\x74\x61\156\143\145"); goto b4R1n; cUppC: global $_W, $_GPC; goto S1cM0; zm5pe: $where["\x6f\x2e\165\x6e\151\141\x63\151\x64"] = $GLOBALS["\165\156\x69\141\x63\x69\x64"]; goto IhT7D; aCdf3: $results = !empty($results1) ? array_merge($results1, $results) : $results; goto zLYfd; edw8p: $where = $orderListServer->getStatusWhere($status); goto psc3E; vzlPh: $moneyss = sprintf("\x25\x2e\62\x66", $moneysetting["\x76\141\x6c\x75\145"]) > 0 ? sprintf("\x25\x2e\x32\x66", $moneysetting["\x76\141\154\165\145"]) : 0.8; goto KCaTe; S1cM0: $rider_id = Token::getCurrentRid(); goto XaHkZ; WDfRR: $sql = "\123\x45\x4c\105\x43\x54\40\x60\142\165\163\151\x6e\x65\163\x73\137\x69\x64\140\x20\106\x52\117\x4d\x20" . tablename("\155\x61\153\x65\x5f\x73\160\x65\145\144\137\142\x75\163\151\156\x65\x73\x73\x5f\151\156\x66\157") . "\40\127\x48\x45\122\x45\x20\x46\111\x4e\104\x5f\x49\x4e\x5f\x53\x45\x54\x28\x27" . $rider_id . "\x27\54\140\162\x69\x64\145\x72\137\x69\x64\140\51"; goto DnWQO; yo6YJ: $oaddress = getPointDistance($rider["\154\x6e\x67"], $rider["\x6c\141\164"], $distance); goto RYhB7; Mbv4u: DfB6e: goto GlrTH; b4R1n: $distance = !empty($distance) ? sprintf("\x25\x2e\62\146", $distance) : 20; goto yo6YJ; h0kDo: $rider_business = array_column($rider_business, "\142\x75\x73\151\x6e\x65\x73\x73\x5f\151\x64"); goto Xh2Hz; TPl22: return $this->result(0, ''); goto UHRsu; KCaTe: $to = ''; goto C_A8j; n0t3Q: foreach ($results as $k1 => $v1) { $results[$k1]["\162\151\x64\145\162\x5f\x64\x69\163\x74\x61\x6e\x63\x65"] = is_scalar($distance[$k1]["\x64\151\163\164\141\x6e\143\x65"]) ? sprintf("\x25\56\61\x66", $distance[$k1]["\144\151\x73\x74\141\156\x63\145"] / 1000) : "\xe6\234\xaa\xe7\x9f\xa5"; CKPTK: } goto fvtKm; RYhB7: $where = array_merge($where, ["\x61\56\142\x65\147\151\x6e\137\154\141\164\x20\76\75" => $oaddress["\x6d\151\156\x6c\141\164"], "\x61\x2e\142\145\147\x69\x6e\137\154\141\164\x20\74\75" => $oaddress["\155\141\170\x6c\x61\164"], "\x61\x2e\x62\x65\147\x69\156\137\154\x6e\147\x20\76\x3d" => $oaddress["\155\151\156\154\156\x67"], "\141\x2e\x62\145\147\x69\x6e\137\x6c\156\x67\40\x3c\x3d" => $oaddress["\x6d\x61\x78\x6c\x6e\x67"]]); goto RD8Dl; XaHkZ: $status = !empty($_GPC["\163\164\141\x74\x75\x73"]) ? (int) $_GPC["\163\164\141\164\165\163"] : 0; goto WoiNz; GlrTH: $results1 = $query->from("\155\x61\153\x65\x5f\x73\x70\145\145\x64\137\x6f\x72\144\x65\x72", "\157")->leftjoin("\155\x61\x6b\x65\137\x73\x70\145\145\x64\x5f\x6f\162\x64\x65\162\x5f\141\144\x64\162\145\x73\163", "\x61")->on(array("\157\x2e\151\x64" => "\141\56\157\x72\144\145\162\x5f\x69\144"))->where($where)->where(array("\157\x2e\x62\165\163\x69\x6e\145\163\x73\137\x69\144\40\76" => 0, "\x6f\x2e\x61\x64\144\x5f\x74\151\155\145\x20\x3c" => time() - 90))->page($page, $limit)->select($field)->orderby("\x69\144\x20\x64\145\163\x63")->getall(); goto zcRTc; ryMAN: if (empty($time)) { goto iD8xy; } goto SiUvK; JPMrm: $rider["\154\141\164"] = !empty($rider["\154\141\164"]) ? $rider["\x6c\x61\x74"] : 22.87013; goto oEojE; UHRsu: Pvtxm: goto mtujy; oEojE: $rider["\154\x6e\147"] = !empty($rider["\x6c\156\147"]) ? $rider["\154\x6e\x67"] : 108.29267; goto Fth10; Hf9ih: $where["\x72\x2e\x61\143\x63\145\x70\164\x5f\164\151\x6d\x65\40\74"] = strtotime("\53\x31\40\x6d\157\x6e\x74\150", $time); goto IL6ZG; kvjTX: if ($status == 2) { goto ncuHL; } goto f4KBE; rvZQ0: return $this->result(0, '', $results);