<?php
 use Model\Config; use Validate\IDMustBePositiveInt; goto Fl39J; QIpuC: if (!($sendCount > 1)) { goto G0_Xx; } goto qp9UQ; VKu0F: $sendCount = cache_load("\x63\x6f\x64\145" . $id); goto qTcGg; TjyxV: $query = load()->object("\x71\165\145\162\x79"); goto fapNB; x2wAm: if (!($endCodeSwitch == 1)) { goto hLZPt; } goto QpqOP; fapNB: $order = $query->from("\x6d\x61\x6b\145\x5f\163\x70\x65\145\144\137\157\162\144\145\162\137\x72\151\144\145\x72", "\x72")->select("\x6f\56\x73\164\x61\x74\x75\163")->innerjoin("\x6d\x61\153\x65\137\163\160\x65\145\144\137\x6f\x72\144\x65\x72", "\157")->on(["\x72\56\157\x72\144\x65\x72\x5f\x69\x64" => "\x6f\x2e\151\x64"])->where(["\162\x2e\x6f\x72\x64\x65\162\x5f\151\x64" => $id, "\162\x2e\x72\151\144\x65\x72\x5f\x69\x64" => $GLOBALS["\x43\125\x52\x52\105\x4e\124\x5f\122\111\104\x45\122"]])->get(); goto MDrkr; wia0H: msg($result["\x4d\145\163\163\141\x67\x65"] . "\xe8\xa1\xa5\xe5\217\x91\xe5\x8f\267\347\240\201\72" . $phone["\145\x6e\x64\137\x70\x68\x6f\156\145"]); goto Fjz36; z2GKm: $endCodeSwitch = Config::get("\x65\156\x64\x63\157\x64\145\x5f\x73\167\x69\x74\143\150"); goto x2wAm; dlfnb: goto EsYyo; goto dTxaX; QpqOP: msg("\346\x94\266\344\273\266\347\240\x81\xe5\212\x9f\350\x83\275\345\xb7\262\345\205\263\xe9\227\xad\357\xbc\x8c\346\227\240\351\234\x80\350\241\xa5\xe5\217\221\347\x9f\255\xe4\xbf\241\xef\xbc\x81"); goto uyrra; uyrra: hLZPt: goto VKu0F; dTxaX: XSxZR: goto T7QMI; tLX7k: msg("\xe8\xae\xa2\xe5\215\x95\344\270\215\xe5\xad\230\345\x9c\xa8\xef\274\201"); goto dlfnb; T7QMI: msg("\xe8\256\xa2\xe5\x8d\x95\xe6\x9c\252\345\x8f\x96\xe4\xbb\266"); goto gCh2X; np9tz: Lcq8b: goto wia0H; vH6b9: if ($count) { goto D0aF1; } goto R27Qm; U24LS: Cgsu4: goto oJcjk; R8Po7: if (isset($phone["\x65\170\164\145\156\163\x69\157\156\137\156\x75\x6d\x62\x65\162"]) && empty($phone["\145\170\164\145\156\163\x69\x6f\156\137\x6e\x75\x6d\x62\x65\x72"])) { goto Q5CDA; } goto Ahsbi; gCh2X: EsYyo: goto z2GKm; Utz4n: cache_write("\x63\157\x64\x65" . $id, $count + 1); goto np9tz; E72dy: if (!(isset($result["\103\157\144\x65"]) || strtolower($result["\103\x6f\x64\x65"]) == "\x6f\x6b")) { goto Lcq8b; } goto WuKe0; R27Qm: cache_write("\x63\x6f\144\x65" . $id, 1); goto Scq26; SYd1Q: goto Zp7zP; goto UUv49; GqlP8: $phone = pdo_get("\x6d\x61\x6b\x65\x5f\163\160\145\145\x64\x5f\157\x72\144\x65\162\137\x61\x64\144\162\x65\163\x73", ["\x6f\162\x64\x65\x72\137\x69\x64" => $id], ["\x65\x6e\x64\x5f\x70\x68\157\x6e\145", "\x65\170\164\145\x6e\163\x69\157\x6e\x5f\x6e\x75\x6d\x62\145\162"]); goto QIpuC; kjYwt: if ($order["\163\x74\x61\x74\165\x73"] < 4) { goto XSxZR; } goto S2JX7; Scq26: D0aF1: goto Utz4n; GWt7A: G0_Xx: goto R8Po7; VLV_n: $code = mt_rand($num, $num * 10 - 1); goto YO7Mz; UUv49: Q5CDA: goto pqm8X; pqm8X: if ($code) { goto MVbHH; } goto AZmuT; qp9UQ: msg("\350\241\245\xe5\x8f\221\xe7\237\255\344\277\xa1\xe6\254\xa1\346\225\xb0\xe8\xb6\205\xe5\207\272\357\xbc\x8c\346\227\xa0\346\263\x95\347\xbb\xa7\347\273\xad\345\217\221\351\x80\x81\x2e\xe8\xa1\xa5\345\x8f\x91\xe5\217\xb7\347\xa0\201\72" . $phone["\x65\156\x64\x5f\160\x68\x6f\x6e\145"]); goto GWt7A; UUmO2: fqK5h: goto tLX7k; MDrkr: if (!$order) { goto fqK5h; } goto kjYwt; Ahsbi: msg("\xe5\270\246\xe6\x9c\211\345\210\x86\xe6\234\272\345\x8f\267\xe7\232\x84\345\x8f\267\347\xa0\x81\xe6\227\xa0\346\xb3\225\345\x8f\221\351\200\x81\xef\274\x81"); goto SYd1Q; WuKe0: $count = cache_load("\143\157\144\x65" . $id); goto vH6b9; zbEN5: global $_GPC; goto BWkq4; qTcGg: $code = pdo_getcolumn("\155\141\x6b\145\x5f\x73\x70\145\x65\144\x5f\x6f\162\x64\145\162\x5f\160\x69\143\x6b\143\x6f\144\x65", ["\x6f\162\144\145\162\137\151\144" => $id], "\145\156\x64\137\143\x6f\144\x65"); goto GqlP8; iP01h: if ($re) { goto Cgsu4; } goto FPiqI; Fl39J: (new IDMustBePositiveInt())->goCheck(); goto zbEN5; FPiqI: msg("\344\xbf\xae\346\224\271\xe5\244\261\xe8\xb4\xa5\357\xbc\x81"); goto U24LS; BWkq4: $id = $_GPC["\151\x64"]; goto TjyxV; YO7Mz: $re = pdo_update("\155\141\x6b\x65\x5f\x73\160\145\145\x64\x5f\x6f\162\x64\145\x72\137\x70\151\143\153\143\157\x64\x65", ["\x65\x6e\x64\137\143\157\x64\x65" => $code], ["\x6f\162\144\x65\162\x5f\x69\144" => $id]); goto iP01h; AZmuT: $num = pow(10, 5); goto VLV_n; S2JX7: goto EsYyo; goto UUmO2; GxdpH: $result = send_aliyun_sms($phone["\x65\156\x64\x5f\160\150\x6f\x6e\145"], ["\143\x6f\144\x65" => $code], "\141\154\151\x5f\x67\157\x74\x6f\137\164\145\x6d\x70"); goto E72dy; oJcjk: MVbHH: goto GxdpH; Fjz36: Zp7zP: