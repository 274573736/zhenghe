<?php
 goto VEhIU; WjZLw: $cateId = $_GPC["\143\x61\x74\145\x5f\x69\144"]; goto NeCas; Cguv2: if (!($curTime < 6)) { goto KdNIY; } goto zEPjT; osHKO: array_multisort(array_column($results["\156\x69\x67\x68\164\x5f\x70\x72\x69\143\145"], "\x73\x74\141\162\x74"), SORT_DESC, $results["\156\x69\147\150\164\137\160\x72\151\x63\145"]); goto Vu_YD; XKbm3: KdNIY: goto osHKO; dLxlI: $_discount = $discount["\144\151\163\x63\157\165\x6e\x74"]; goto Sxpki; KL88Y: msg("\xe9\200\x89\xe6\213\251\xe7\xb1\273\xe5\236\213\xe4\270\x8d\345\xad\230\xe5\x9c\xa8\xef\xbc\201"); goto fB7eq; DX8Xj: if ($cate) { goto Essk8; } goto KL88Y; pD6Fc: JQbOC: goto hPo_3; gfMQf: msg("\xe5\x88\x86\xe7\xb1\273\x49\x44\xe4\270\x8d\xe8\x83\xbd\xe4\270\272\347\xa9\272\357\xbc\x81"); goto YEA6F; NeCas: if ($cateId) { goto ms9F6; } goto gfMQf; hRcMl: $discount_price = 0; goto Pf3R7; iaYZG: O4ZbJ: goto AEE2f; X9EFu: $money = $discount["\144\x69\x73\143\x6f\165\156\x74"] * $money; goto dLxlI; zEPjT: $curTime += 24; goto XKbm3; Pf3R7: $_discount = 0; goto mit2x; VHLMS: $results["\x6e\151\x67\150\x74\x5f\160\x72\151\x63\x65"] = isset($results["\x6e\151\147\150\x74\x5f\160\x72\x69\x63\x65"]) ? unserialize($results["\156\x69\147\x68\x74\x5f\160\x72\151\x63\x65"]) : array(); goto wWlBA; Z2tbh: $keys = ["\x6e\x69\147\x68\x74\137\160\162\x69\143\145", "\143\150\x61\156\147\145\137\160\162\151\143\x65"]; goto Xn5XK; Xn5XK: $results = pdo_getall("\x6d\141\153\x65\x5f\163\160\x65\145\144\x5f\163\145\x74\x74\x69\x6e\x67", array("\165\x6e\151\141\x63\x69\144" => $GLOBALS["\165\x6e\151\x61\143\151\x64"], "\x6b\145\171" => $keys, "\x63\151\x74\x79\137\x69\144" => 0), ["\153\145\x79", "\166\x61\x6c\x75\145"]); goto snmMj; mYIwt: $discount_price = $money - $discount["\x64\x69\163\x63\x6f\x75\x6e\164"] * $money; goto X9EFu; AEE2f: $money += !empty($results["\x63\150\x61\x6e\x67\145\x5f\x70\162\151\143\145"]) ? $results["\x63\x68\141\156\x67\x65\x5f\x70\162\151\x63\x65"] : 0; goto gplMp; gplMp: $discount = load()->object("\161\x75\145\x72\x79")->from("\x6d\141\153\145\137\163\x70\x65\x65\x64\x5f\165\x73\145\x72", "\x75")->leftjoin("\155\x61\x6b\x65\x5f\163\160\x65\x65\x64\137\165\163\145\x72\x5f\147\162\x61\x64\x65", "\x67")->on(array("\165\x2e\x75\163\x65\x72\x5f\x67\x72\x61\x64\145" => "\147\56\x69\x64"))->where(array("\165\56\151\x64" => $GLOBALS["\x43\x55\122\x52\x45\116\124\x5f\125\x53\105\x52"]))->select("\x67\56\144\151\163\x63\x6f\x75\156\x74")->get(); goto hRcMl; mit2x: if (empty($discount["\144\151\163\143\x6f\165\156\x74"])) { goto dfmE2; } goto mYIwt; pPl01: $money = $cate["\x64\x65\160\157\163\x69\x74"]; goto Z2tbh; hPo_3: $money += $nightPrice; goto iaYZG; fB7eq: Essk8: goto pPl01; u6Vwz: $cate = pdo_get("\155\x61\x6b\x65\137\163\x70\x65\x65\x64\137\x68\157\155\x65\155\x61\153\151\x6e\147\137\x63\x61\x74\x65\x67\x6f\x72\x79", ["\x69\144" => $cateId], ["\144\x65\x70\x6f\163\x69\164"]); goto DX8Xj; pCtop: $data = array("\x6d\x6f\x6e\x65\171" => sprintf("\45\56\x32\x66", $money), "\x6e\151\147\x68\164\137\x70\162\x69\143\145" => sprintf("\45\x2e\62\146", $nightPrice), "\x63\x68\x61\156\147\145\137\x70\162\151\x63\145" => sprintf("\x25\x2e\x32\x66", $results["\143\x68\x61\x6e\147\x65\137\160\x72\151\x63\x65"]), "\x64\x69\163\x63\157\x75\x6e\x74\137\x70\162\151\x63\x65" => sprintf("\45\x2e\62\x66", $discount_price), "\144\x69\x73\x63\x6f\165\x6e\x74" => !empty($_discount) ? $_discount : 1); goto ywf1_; Sxpki: dfmE2: goto pCtop; snmMj: $results = array_column($results, "\x76\141\154\165\145", "\153\145\171"); goto VHLMS; VEhIU: global $_GPC; goto WjZLw; wWlBA: $nightPrice = 0; goto OuBIO; YEA6F: ms9F6: goto u6Vwz; Vu_YD: foreach ($results["\x6e\x69\x67\x68\x74\x5f\160\x72\x69\x63\145"] as $k => $v) { goto OItz7; J6S4d: ycDgD: goto IWZuL; l2yww: goto JQbOC; goto uhAp1; OItz7: if (!($v["\163\x74\x61\x72\x74"] > $v["\145\156\x64"])) { goto ycDgD; } goto z0qqo; vy7S_: SIYB0: goto ASLcd; uhAp1: B8BZA: goto vy7S_; IWZuL: if (!($curTime >= $v["\163\x74\x61\x72\164"] && $curTime <= $v["\145\x6e\144"])) { goto B8BZA; } goto KOa6F; KOa6F: $nightPrice = floatval($v["\x70\162\x69\x63\145"]); goto l2yww; z0qqo: $v["\x65\156\x64"] += 24; goto J6S4d; ASLcd: } goto pD6Fc; OuBIO: if (!($results["\x6e\151\x67\x68\x74\137\160\x72\151\x63\x65"] && is_array($results["\156\x69\x67\150\164\137\x70\x72\151\143\145"]))) { goto O4ZbJ; } goto QH0Zh; QH0Zh: $curTime = date("\x48\72\x69", time()); goto Cguv2; ywf1_: msg("\157\153", $data);