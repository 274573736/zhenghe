<?php
 use Server\DesignateDriver; use Model\Config; goto fr8OI; E2X6A: sendUserTemplate($tpldata, $order["\165\163\x65\162\x5f\151\144"], $id, "\143\157\155\160\x6c\145\x74\x65\x5f\164\145\155\160\x6c\141\164\x65\x5f\151\144"); goto amDBt; hsOCF: if ($order["\164\x79\160\x65"] == 5 && $order["\x70\141\171\155\x65\156\164"] == 3) { goto qb7I1; } goto vagiz; EVWTb: $receive = isset($switchImg["\x72\145\x63\145\x69\166\x65\x5f\160\150\x6f\164\157"]) ? $switchImg["\162\x65\143\x65\151\x76\x65\137\160\x68\157\164\157"] : 0; goto LfscS; P1JGs: $up = pdo_update("\155\141\153\145\x5f\163\x70\x65\145\x64\137\157\x72\x64\145\x72", array("\163\164\x61\164\x75\163" => 4), array("\151\144" => $id)); goto niMLb; NSACI: goto GeOzo; goto OnL2R; eSynT: $rider = pdo_get("\x6d\141\153\x65\137\x73\160\x65\145\144\x5f\x72\151\144\145\162\x5f\x69\156\x66\x6f", array("\x72\x69\144\x65\x72\x5f\151\144" => $GLOBALS["\x43\x55\x52\x52\105\x4e\124\x5f\x52\x49\104\105\x52"]), array("\154\x61\x74", "\x6c\156\147")); goto G15Gp; bKE7j: update_eleme_order($id, "\x44\105\x4c\111\126\x45\x52\x59\x5f\103\117\115\120\114\x45\x54\105"); goto v_W2j; HFB3d: $expect_timed = $expect_timed + $setting["\x76\x61\x6c\x75\145"] * 60; goto R0v00; eRSf0: send_aliyun_sms($end["\x65\x6e\144\137\160\150\157\156\x65"], array("\143\x6f\144\x65" => $endcode), "\141\x6c\x69\x5f\x67\x6f\164\x6f\137\x74\x65\155\160"); goto T35Zc; R0v00: WMeDk: goto BfRCm; IaC1t: if (empty($setting["\x76\x61\154\165\145"])) { goto WMeDk; } goto HFB3d; bfX1E: rPYJz: goto NSACI; T3vjw: if (!(!empty($pickcode["\x70\151\x63\x6b\x5f\x63\x6f\144\145"]) && $pickcode["\160\151\x63\x6b\137\x63\x6f\144\x65"] != $code && empty($switch["\147\145\164\x63\157\x64\x65\x5f\x73\167\151\164\143\x68"]))) { goto oLDM6; } goto MqqTw; QeLU1: pNDVl: goto x12Ag; v_W2j: get_oneorder_coupon($order["\165\x73\x65\162\137\x69\144"]); goto MdOLb; QhO64: if (empty($end["\142\145\147\x69\x6e\x5f\x61\144\x64\162\145\163\163"])) { goto nSjXe; } goto MNLh2; x6ocd: if (!($order["\x74\x79\x70\x65"] == 3 && $order["\143\150\141\162\x67\x5f\x74\171\x70\x65"] == 2)) { goto xXTSr; } goto dy_Je; kRUe2: RIi62: goto P1JGs; RUEJN: mwmfa: goto be_bX; T35Zc: Q1R8Y: goto WEE4z; Q3FCV: M1opS: goto xl77h; Ura5c: $tpldata = array("\x6b\145\x79\x77\157\162\x64\x31" => array("\x76\141\154\165\x65" => $order["\157\162\x64\x65\162\137\x63\x6f\x64\145"]), "\x6b\x65\x79\167\157\162\144\x32" => array("\x76\141\154\165\145" => "\133" . $ordertype[$order["\164\x79\x70\x65"]] . "\x5d\x20" . $order["\147\x6f\157\144\163\x6e\x61\x6d\x65"]), "\x6b\145\171\167\157\x72\144\x33" => array("\x76\141\x6c\165\x65" => date("\x59\x2d\155\55\x64\40\110\x3a\151")), "\x6b\x65\x79\x77\x6f\x72\x64\64" => array("\166\141\x6c\x75\145" => $rider["\156\151\143\153\x5f\x6e\141\x6d\x65"]), "\153\145\171\167\x6f\x72\x64\x35" => array("\166\x61\154\165\145" => !empty($phone["\x76\141\x6c\165\x65"]) ? $phone["\x76\x61\154\165\x65"] : "\xe6\x9c\252\xe8\256\xbe\347\xbd\256"), "\153\145\171\x77\157\x72\144\x36" => array("\x76\x61\154\x75\145" => "\xe6\202\xa8\347\232\204\xe8\xae\xa2\345\215\x95" . $type . "\xe5\267\262\345\xae\x8c\346\210\220\357\274\x81\345\xa6\x82\xe6\234\211\xe7\226\x91\351\227\xae\350\257\267\346\213\250\xe6\211\223\xe8\x81\224\347\263\xbb\xe5\xae\242\xe6\x9c\x8d\347\224\265\xe8\257\235")); goto E2X6A; aeTLE: $take = isset($switchImg["\x74\x61\153\145\137\x70\150\x6f\164\157"]) ? $switchImg["\x74\x61\x6b\145\137\160\x68\157\x74\x6f"] : 0; goto EVWTb; LfscS: if (empty($img)) { goto mwmfa; } goto Ya7i9; apbTj: $latitude = $_GPC["\x6c\x61\x74"]; goto sc48Q; LZifo: $expect_timed = get_mapapi_time($rider["\x6c\156\147"] . "\x2c" . $rider["\x6c\x61\x74"], $end["\145\x6e\144\x5f\154\156\147"] . "\54" . $end["\145\x6e\144\137\154\x61\x74"]); goto Cd0W0; ddp7Q: xXTSr: goto NMI0p; FZamA: $pickcode = pdo_get("\x6d\x61\153\145\x5f\163\160\x65\x65\144\137\157\x72\x64\x65\162\x5f\160\151\x63\x6b\x63\x6f\144\x65", array("\157\x72\x64\x65\x72\x5f\151\144" => $id), array("\x70\x69\x63\153\137\143\x6f\x64\145", "\145\156\144\137\143\157\144\145")); goto fkUsV; fr8OI: global $_GPC; goto hK523; fQdPu: $ordertype = array("\xe5\xb8\xae\xe9\200\201", "\345\xb8\256\344\xb9\xb0", "\xe4\270\207\xe8\x83\275\xe6\x9c\x8d\xe5\212\xa1", "\xe4\273\xa3\351\xa9\xbe"); goto Ura5c; dU_yQ: $switchImg = Config::getm(["\x74\x61\x6b\x65\137\160\x68\157\x74\x6f", "\162\x65\x63\x65\151\166\x65\137\160\x68\157\x74\157"]); goto aeTLE; dAFCt: rider_usercomplete_order($order["\x75\x73\x65\x72\x5f\151\x64"]); goto bfX1E; BfRCm: $expect_timed = $expect_timed !== '' ? date("\x48\72\151", time() + $expect_timed) : ''; goto i90N0; uh3ho: if (!pdo_update("\x6d\x61\153\x65\137\163\x70\x65\145\144\137\157\162\x64\x65\162", array("\163\x74\141\x74\165\x73" => 5), array("\151\x64" => $id))) { goto rPYJz; } goto b52bM; hW2tp: GeOzo: goto dGDT1; T9QMO: $code = !empty($_GPC["\147\x6f\x6f\144\163\137\x63\x6f\x64\145"]) ? trim($_GPC["\x67\157\x6f\x64\x73\137\x63\x6f\144\x65"]) : ''; goto eFBXE; MNLh2: $expect_timed = get_mapapi_time($end["\x62\x65\147\151\x6e\x5f\x6c\156\147"] . "\54" . $end["\142\145\x67\x69\x6e\x5f\x6c\141\x74"], $end["\x65\156\x64\x5f\x6c\x6e\147"] . "\x2c" . $end["\x65\156\144\x5f\x6c\x61\x74"]); goto tENFS; f_rtn: CKDjd: goto RUEJN; TRmOy: if (!(!in_array($order["\164\x79\160\x65"], [3, 5]) && empty($end["\x65\170\164\145\156\163\151\x6f\x6e\137\x6e\x75\155\x62\x65\162"]))) { goto pNDVl; } goto fAtXF; hxATl: $end = pdo_get("\155\x61\x6b\x65\137\x73\x70\x65\x65\144\x5f\157\162\x64\145\162\137\141\x64\x64\162\x65\x73\163", array("\x6f\162\x64\145\162\137\x69\144" => $id), array("\x65\170\164\145\x6e\x73\151\x6f\x6e\x5f\156\165\155\x62\x65\x72", "\x62\145\147\x69\x6e\137\x61\144\144\x72\145\x73\163", "\x65\x6e\144\x5f\x70\150\157\156\145", "\142\145\147\x69\156\x5f\x6c\141\x74", "\142\x65\x67\x69\x6e\x5f\x6c\x6e\147", "\145\x6e\x64\137\154\x61\164", "\x65\x6e\x64\x5f\x6c\156\147")); goto HJPYh; fAtXF: $endcode = generate_pick_code(1); goto egu4K; MdOLb: rider_invite_user($order["\x75\x73\145\162\x5f\x69\x64"]); goto xNJ4j; zuwRv: $switch = pdo_getall("\x6d\141\153\145\x5f\163\x70\145\x65\x64\x5f\163\145\x74\x74\151\x6e\x67", array("\153\145\171" => array("\x67\x65\164\143\157\144\x65\x5f\x73\x77\151\164\x63\x68", "\x65\x6e\x64\x63\157\x64\x65\x5f\163\167\x69\x74\143\x68", "\x65\170\160\x65\143\x74\x5f\x74\151\x6d\145\x64\x30"), "\165\x6e\151\141\x63\x69\144" => $GLOBALS["\165\156\151\141\x63\x69\144"]), array("\x6b\145\x79", "\x76\x61\154\165\145")); goto vlcTD; fkUsV: $order = pdo_get("\x6d\x61\153\x65\137\x73\160\145\145\144\x5f\157\162\144\145\162", array("\151\144" => $id), array("\x6f\x72\144\x65\x72\137\143\x6f\144\x65", "\165\163\x65\x72\137\x69\x64", "\160\141\171\155\145\156\x74", "\x67\x6f\x6f\144\163\x6e\141\x6d\x65", "\164\171\x70\145", "\x73\x74\x61\164\165\163", "\x67\x65\x74\x5f\164\x69\155\145", "\x63\150\141\162\147\137\164\x79\160\x65")); goto zuwRv; WEE4z: pdo_update("\155\x61\x6b\x65\137\163\x70\145\145\x64\x5f\x6f\x72\x64\x65\x72\137\160\151\x63\x6b\143\157\144\145", array("\145\x6e\x64\137\143\157\x64\x65" => $endcode), array("\x6f\x72\144\145\162\137\x69\144" => $id)); goto QeLU1; MqqTw: return $this->result(0, "\xe8\257\xb7\xe8\xbe\x93\xe5\x85\245\xe6\255\243\347\xa1\xae\xe7\x9a\204\345\x8f\226\xe4\xbb\xb6\347\xa0\x81\357\274\x81"); goto Rfsuv; M4VOi: $redis->set("\x64\162\x69\166\145\x72" . $GLOBALS["\x43\125\x52\x52\x45\116\124\137\x52\111\x44\x45\122"], $id); goto ddp7Q; d_73E: qb7I1: goto UJB2d; BUZYz: update_eleme_order($id, "\104\x45\114\x49\126\x45\122\x59\x5f\123\124\101\122\x54"); goto eSynT; b52bM: pdo_update("\x6d\141\x6b\145\x5f\x73\x70\x65\145\144\x5f\x6f\162\x64\x65\162\x5f\162\x69\144\145\x72", array("\145\x6e\x64\x5f\x69\x6d\147" => $endimg), array("\157\162\x64\x65\x72\137\151\144" => $id)); goto hsOCF; GoIvU: $rider = pdo_get("\x6d\141\x6b\145\137\163\x70\x65\x65\144\137\162\151\144\x65\162", array("\151\x64" => $GLOBALS["\103\125\x52\122\x45\x4e\x54\x5f\x52\x49\104\105\122"]), array("\156\151\143\153\137\x6e\141\x6d\x65", "\155\x6f\x62\x69\154\145")); goto QjOwM; Rfsuv: oLDM6: goto kRUe2; i90N0: $upData = ["\160\x69\x63\x6b\137\x69\155\147" => $img, "\x67\x65\x74\137\x74\151\155\145" => time(), "\147\x65\164\137\x6d\x73\x65\x63\x5f\164\151\x6d\145" => msecTime(), "\x65\170\x70\x65\x63\164\x5f\x74\151\x6d\x65\144" => $expect_timed]; goto x6ocd; HJPYh: $expect_timed = 0; goto QhO64; hKw7T: if (!(!empty($pickcode["\x65\156\144\137\143\157\x64\x65"]) && $pickcode["\145\156\144\137\143\157\144\x65"] != $code && empty($switch["\x65\x6e\x64\143\x6f\x64\x65\137\163\x77\151\164\x63\x68"]) && $order["\x74\171\160\145"] != 3)) { goto XjFh9; } goto bAZoo; g_yX9: goto ofq_0; goto d_73E; xNJ4j: rider_complete_order($GLOBALS["\103\125\x52\x52\105\x4e\124\x5f\122\x49\104\105\x52"]); goto dAFCt; Ya7i9: if (!($order["\x74\x79\160\145"] == 0)) { goto RIi62; } goto T3vjw; niMLb: if (empty($up)) { goto CKDjd; } goto BUZYz; omGM6: $setting = pdo_get("\155\x61\x6b\x65\x5f\x73\160\145\x65\144\137\163\x65\x74\x74\151\x6e\x67", array("\x6b\x65\171" => "\x65\170\160\145\x63\x74\137\x74\x69\x6d\x65\144" . $order["\164\171\160\x65"], "\165\156\x69\141\x63\x69\x64" => $GLOBALS["\x75\156\151\x61\143\x69\144"]), array("\x76\141\154\165\145")); goto IaC1t; amDBt: return $this->result(0, "\xe6\210\220\xe5\212\237\xe9\x80\201\xe8\276\xbe\357\xbc\201", array("\x6f\x72\144\145\162\137\151\x64" => $id)); goto Q3FCV; hK523: $id = !empty($_GPC["\x69\144"]) ? (int) $_GPC["\x69\144"] : 0; goto T9QMO; eA0y2: if ($order["\x74\171\x70\x65"] == 3 && $order["\x63\x68\141\162\x67\137\x74\171\x70\x65"] == 2) { goto y93px; } goto uh3ho; ZFORj: $driver = pdo_get("\155\x61\153\145\137\163\160\145\x65\144\x5f\162\151\144\x65\x72\x5f\144\x72\x69\166\145\x72", ["\x72\151\x64\145\162\x5f\x69\144" => $GLOBALS["\103\125\x52\x52\105\116\x54\x5f\122\111\104\105\x52"]], ["\x74\x69\144"]); goto nCp4q; LgLq9: $endimg = !empty($_GPC["\x65\156\144\137\151\155\x67"]) ? trim($_GPC["\145\156\144\137\151\155\147"]) : ''; goto apbTj; NMI0p: pdo_update("\x6d\141\153\145\x5f\163\160\x65\145\144\x5f\157\162\x64\x65\162\137\x72\151\x64\145\x72", $upData, array("\157\x72\144\x65\x72\137\151\x64" => $id)); goto TRmOy; Cd0W0: WGX5z: goto omGM6; vagiz: $result = riderGotoOrder($id, intval($GLOBALS["\x43\125\x52\x52\x45\116\x54\137\122\x49\x44\105\x52"])); goto g_yX9; gNgP3: ofq_0: goto bKE7j; dGDT1: $type = $order["\164\171\x70\145"] == 3 || $order["\164\171\x70\x65"] == 5 ? "\345\217\270\346\x9c\xba" : "\351\252\x91\346\211\x8b"; goto GoIvU; UJB2d: freightCompleteOrder($id, intval($GLOBALS["\103\x55\x52\122\105\116\124\137\122\111\x44\105\122"])); goto gNgP3; bAZoo: return $this->result(0, "\350\xaf\267\350\276\223\345\x85\xa5\xe6\xad\243\xe7\xa1\256\xe7\232\204\xe6\x94\xb6\344\xbb\xb6\xe7\240\x81\357\xbc\201"); goto w2q3F; iqGbT: (new DesignateDriver())->deliveryOrder($longitude, $latitude, $id); goto hW2tp; G15Gp: update_eleme_location($id, $rider["\x6c\x61\164"], $rider["\154\x6e\147"]); goto hxATl; x12Ag: return $this->result(0, "\345\x8f\226\344\273\xb6\xe6\210\220\xe5\212\x9f\357\274\201", array("\157\162\144\145\x72\x5f\x69\x64" => $id)); goto f_rtn; QjOwM: $phone = pdo_get("\155\x61\x6b\x65\137\x73\x70\x65\145\x64\137\x73\x65\x74\164\151\x6e\x67", array("\x6b\145\x79" => "\153\x65\146\165\x5f\160\150\x6f\156\145", "\x75\x6e\x69\141\143\151\x64" => $GLOBALS["\x75\x6e\151\x61\x63\x69\144"]), array("\x76\141\154\x75\x65")); goto fQdPu; tENFS: goto WGX5z; goto NCPyV; vlcTD: $switch = !empty($switch) ? @array_column($switch, "\x76\x61\x6c\x75\145", "\x6b\145\171") : array(); goto dU_yQ; nCp4q: $trid = \Mclass\LieYing::addTrack($driver["\164\151\144"]); goto luhEA; OnL2R: y93px: goto iqGbT; egu4K: if (!(!empty($endcode) && $order["\164\171\160\145"] != 3 && $order["\164\171\x70\145"] != 5)) { goto Q1R8Y; } goto eRSf0; w2q3F: XjFh9: goto eA0y2; eFBXE: $img = !empty($_GPC["\x67\x6f\x6f\144\163\137\151\155\147"]) ? trim($_GPC["\x67\157\x6f\x64\163\137\x69\155\147"]) : ''; goto LgLq9; luhEA: $upData["\164\x72\151\144"] = $trid; goto M4VOi; be_bX: if (!empty($img)) { goto M1opS; } goto hKw7T; NCPyV: nSjXe: goto LZifo; sc48Q: $longitude = $_GPC["\154\156\x67"]; goto FZamA; dy_Je: try { $redis = new Redis(); $redis->connect("\61\62\x37\x2e\60\56\x30\x2e\61", "\66\63\x37\71"); } catch (Exception $e) { return $this->result(0, $e->getMessage()); } goto ZFORj; xl77h: return $this->result(0, "\350\256\xa2\345\x8d\x95\346\x9b\264\346\x96\260\345\xa4\261\350\xb4\245\xef\xbc\x81");